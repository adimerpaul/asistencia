import{_ as m,c as p,o as g,w as a,a as s,Q as v,b as i,f as r,ae as b,a7 as d,d as l}from"./index-D2Z0pOy-.js";import{Q as u}from"./QSelect-DZr-FKLW.js";import{Q as f}from"./QForm-DRmFngLT.js";import{Q as _}from"./QSpinnerDots-z6ZZazoq.js";import{Q as V}from"./QInnerLoading-DglRHpl0.js";import{Q}from"./QPage-CB_BnOr-.js";import"./QChip-9E6Svwm9.js";import"./QItem-BWajZLNV.js";import"./QItemLabel-Dde4uuZK.js";import"./format-BR2WUeZQ.js";import"./selection-CmAng5ju.js";const x={name:"AsignacionCreate",data(){return{asignacion:{curso_id:null,docente_id:null,unidadEducativa:"",taller:"",fases:"",docentesEncargados:"",anioFormacion:"",gestion:null},cursos:[],docentes:[],gestiones:[],loading:!1}},async mounted(){this.$axios.get("cursos").then(e=>{this.cursos=e.data}),this.$axios.get("docentes").then(e=>{this.docentes=e.data});const t=new Date().getFullYear();for(let e=t-3;e<=t+3;e++)this.gestiones.push({label:String(e),value:String(e)})},methods:{guardarAsignacion(){this.loading=!0,this.$axios.post("asignaciones",this.asignacion).then(()=>{this.$alert.success("Asignación creada"),this.$router.push("/asignaciones")}).catch(t=>this.$alert.error(t.response?.data?.message||"Error al crear")).finally(()=>{this.loading=!1})}}},h={class:"row items-center q-mb-md"},q={class:"col-auto"},y={class:"row"},w={class:"col-12 col-md-4"},C={class:"col-12 col-md-4"},U={class:"col-12 col-md-4"},E={class:"row"},F={class:"col-12 col-md-6"},A={class:"col-12 col-md-6"},D={class:"row"},S={class:"col-12 col-md-4"},k={class:"col-12 col-md-4"},R={class:"col-12 col-md-4"},B={class:"row justify-end q-gutter-sm q-mt-lg"};function I(t,e,G,N,n,c){return g(),p(Q,{class:"q-pa-md"},{default:a(()=>[s(v,{flat:"",bordered:"",class:"q-pa-md"},{default:a(()=>[i("div",h,[e[10]||(e[10]=i("div",{class:"col"},[i("div",{class:"text-h6"},"Nueva Asignación"),i("div",{class:"text-caption text-grey-7"},"Complete los datos y presione Guardar")],-1)),i("div",q,[s(r,{flat:"",color:"negative",icon:"close",label:"Cancelar","no-caps":"",onClick:e[0]||(e[0]=o=>t.$router.push("/asignaciones"))})])]),s(b,{spaced:""}),s(f,{onSubmit:c.guardarAsignacion,class:"q-gutter-md"},{default:a(()=>[e[11]||(e[11]=i("div",{class:"text-subtitle2 text-grey-8"},"Datos académicos",-1)),i("div",y,[i("div",w,[s(d,{modelValue:n.asignacion.anioFormacion,"onUpdate:modelValue":e[1]||(e[1]=o=>n.asignacion.anioFormacion=o),label:"Año de Formación",dense:"",outlined:"",rules:[o=>!!o||"Requerido"]},{prepend:a(()=>[s(l,{name:"school"})]),_:1},8,["modelValue","rules"])]),i("div",C,[s(u,{modelValue:n.asignacion.gestion,"onUpdate:modelValue":e[2]||(e[2]=o=>n.asignacion.gestion=o),options:n.gestiones,label:"Gestión",dense:"",outlined:"","emit-value":"","map-options":"",rules:[o=>!!o||"Requerido"]},{prepend:a(()=>[s(l,{name:"event"})]),_:1},8,["modelValue","options","rules"])]),i("div",U,[s(u,{modelValue:n.asignacion.curso_id,"onUpdate:modelValue":e[3]||(e[3]=o=>n.asignacion.curso_id=o),options:n.cursos,"option-label":"nombre","option-value":"id",label:"Unidad de Formación (Curso)",dense:"",outlined:"","emit-value":"","map-options":"",rules:[o=>!!o||"Requerido"]},{prepend:a(()=>[s(l,{name:"menu_book"})]),_:1},8,["modelValue","options","rules"])])]),e[12]||(e[12]=i("div",{class:"text-subtitle2 text-grey-8 q-mt-md"},"Docencia",-1)),i("div",E,[i("div",F,[s(u,{modelValue:n.asignacion.docente_id,"onUpdate:modelValue":e[4]||(e[4]=o=>n.asignacion.docente_id=o),options:n.docentes,"option-label":"nombre","option-value":"id",label:"Docente",dense:"",outlined:"","emit-value":"","map-options":"",rules:[o=>!!o||"Requerido"]},{prepend:a(()=>[s(l,{name:"person"})]),_:1},8,["modelValue","options","rules"])]),i("div",A,[s(d,{modelValue:n.asignacion.unidadEducativa,"onUpdate:modelValue":e[5]||(e[5]=o=>n.asignacion.unidadEducativa=o),label:"Unidad Educativa",dense:"",outlined:"",rules:[o=>!!o||"Requerido"]},{prepend:a(()=>[s(l,{name:"apartment"})]),_:1},8,["modelValue","rules"])])]),e[13]||(e[13]=i("div",{class:"text-subtitle2 text-grey-8 q-mt-md"},"Detalle",-1)),i("div",D,[i("div",S,[s(d,{modelValue:n.asignacion.taller,"onUpdate:modelValue":e[6]||(e[6]=o=>n.asignacion.taller=o),label:"Taller",dense:"",outlined:""},{prepend:a(()=>[s(l,{name:"category"})]),_:1},8,["modelValue"])]),i("div",k,[s(d,{modelValue:n.asignacion.fases,"onUpdate:modelValue":e[7]||(e[7]=o=>n.asignacion.fases=o),label:"Fases",dense:"",outlined:""},{prepend:a(()=>[s(l,{name:"timeline"})]),_:1},8,["modelValue"])]),i("div",R,[s(d,{modelValue:n.asignacion.docentesEncargados,"onUpdate:modelValue":e[8]||(e[8]=o=>n.asignacion.docentesEncargados=o),label:"Docentes Encargados",dense:"",outlined:""},{prepend:a(()=>[s(l,{name:"groups"})]),_:1},8,["modelValue"])])]),i("div",B,[s(r,{flat:"",color:"negative",icon:"close",label:"Cancelar","no-caps":"",onClick:e[9]||(e[9]=o=>t.$router.push("/asignaciones"))}),s(r,{color:"primary",icon:"save",label:"Guardar","no-caps":"",type:"submit",loading:n.loading},null,8,["loading"])])]),_:1},8,["onSubmit"]),s(V,{showing:n.loading},{default:a(()=>[s(_,{size:"32px"})]),_:1},8,["showing"])]),_:1})]),_:1})}const W=m(x,[["render",I],["__scopeId","data-v-5726dbbf"]]);export{W as default};
